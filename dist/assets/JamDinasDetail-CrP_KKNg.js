import{r as m,u as z,a as b,b as A,j as T,s as R,c as e,C as n,A as g,S as $,T as C,R as u,d as a,B as f,e as J,f as k,g as B,h as j,F as S,i as K,k as E}from"./index-CUVs2Sip.js";const{Title:L,Text:i}=C,N=()=>{const[t,D]=m.useState(null),[I,h]=m.useState(!1),o=z(),{id:r}=b(),{user:w}=A(),c=w?.role==="super_admin";m.useEffect(()=>{r&&c&&v()},[r,c]);const v=async()=>{if(r)try{h(!0);const s=await T.getById(parseInt(r));D(s.data)}catch(s){console.error("Error fetching jam dinas detail:",s),R.error("Gagal memuat detail jam dinas"),o("/jam-dinas")}finally{h(!1)}},d=s=>s.substring(0,5),y=s=>s===1?"success":"default",p=s=>s===1?"Aktif":"Tidak Aktif",_=s=>s==="normal"?"blue":"orange";return c?I?e.jsx("div",{style:{padding:"24px",maxWidth:"100%",overflow:"hidden"},children:e.jsx(n,{children:e.jsxs("div",{style:{textAlign:"center",padding:"40px 0"},children:[e.jsx($,{size:"large"}),e.jsx("div",{style:{marginTop:16},children:e.jsx(i,{type:"secondary",children:"Memuat detail jam dinas..."})})]})})}):t?e.jsx("div",{style:{padding:"24px",maxWidth:"100%",overflow:"hidden"},children:e.jsx(u,{gutter:[16,16],children:e.jsx(a,{span:24,children:e.jsxs(n,{children:[e.jsx("div",{style:{marginBottom:24},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(f,{icon:e.jsx(J,{}),onClick:()=>o("/jam-dinas"),style:{marginRight:16},children:"Kembali"}),e.jsxs("div",{children:[e.jsxs(L,{level:4,style:{margin:0,display:"flex",alignItems:"center"},children:[e.jsx(k,{style:{marginRight:8,color:"#1890ff"}}),"Detail Jam Dinas"]}),e.jsx(i,{type:"secondary",children:"Informasi lengkap jam dinas dan jadwal kerja"})]})]}),e.jsx(f,{type:"primary",icon:e.jsx(B,{}),onClick:()=>o(`/jam-dinas/${t.id}/edit`),children:"Edit Jam Dinas"})]})}),e.jsx(n,{size:"small",title:e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(k,{style:{marginRight:8}}),"Informasi Dasar"]}),style:{marginBottom:16},children:e.jsxs(u,{gutter:[24,16],children:[e.jsx(a,{xs:24,sm:12,md:6,children:e.jsxs("div",{children:[e.jsx(i,{type:"secondary",style:{fontSize:"12px"},children:"ID"}),e.jsx("br",{}),e.jsx(i,{strong:!0,style:{fontSize:"16px"},children:t.id})]})}),e.jsx(a,{xs:24,sm:12,md:6,children:e.jsxs("div",{children:[e.jsx(i,{type:"secondary",style:{fontSize:"12px"},children:"Nama"}),e.jsx("br",{}),e.jsx(i,{strong:!0,style:{fontSize:"16px"},children:t.nama})]})}),e.jsx(a,{xs:24,sm:12,md:6,children:e.jsxs("div",{children:[e.jsx(i,{type:"secondary",style:{fontSize:"12px"},children:"Status"}),e.jsx("br",{}),e.jsx(j,{color:y(t.status),style:{fontSize:"14px",padding:"4px 8px"},children:p(t.status)})]})}),e.jsx(a,{xs:24,sm:12,md:6,children:e.jsxs("div",{children:[e.jsx(i,{type:"secondary",style:{fontSize:"12px"},children:"Hari Kerja"}),e.jsx("br",{}),e.jsxs(i,{strong:!0,style:{fontSize:"16px"},children:[t.hari_kerja," hari/minggu"]})]})}),e.jsx(a,{xs:24,sm:12,md:6,children:e.jsxs("div",{children:[e.jsx(i,{type:"secondary",style:{fontSize:"12px"},children:"Total Jam per Hari"}),e.jsx("br",{}),e.jsxs(i,{strong:!0,style:{fontSize:"16px"},children:[Math.floor(t.menit/60),":",(t.menit%60).toString().padStart(2,"0")," jam"]})]})}),e.jsx(a,{xs:24,sm:12,md:6,children:e.jsxs("div",{children:[e.jsx(i,{type:"secondary",style:{fontSize:"12px"},children:"Total Menit"}),e.jsx("br",{}),e.jsxs(i,{strong:!0,style:{fontSize:"16px"},children:[t.menit," menit"]})]})}),e.jsx(a,{xs:24,sm:12,md:6,children:e.jsxs("div",{children:[e.jsx(i,{type:"secondary",style:{fontSize:"12px"},children:"Dibuat"}),e.jsx("br",{}),e.jsx(i,{style:{fontSize:"14px"},children:new Date(t.createdAt).toLocaleDateString("id-ID")})]})}),e.jsx(a,{xs:24,sm:12,md:6,children:e.jsxs("div",{children:[e.jsx(i,{type:"secondary",style:{fontSize:"12px"},children:"Diperbarui"}),e.jsx("br",{}),e.jsx(i,{style:{fontSize:"14px"},children:new Date(t.updatedAt).toLocaleDateString("id-ID")})]})})]})}),e.jsx(n,{size:"small",title:e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(K,{style:{marginRight:8}}),"Detail Jadwal (",t.details?.length||0," item)"]}),style:{marginBottom:16},children:e.jsx(S,{size:"small",columns:[{title:"No",key:"no",width:50,render:(s,l,x)=>x+1},{title:"Hari",dataIndex:"hari",key:"hari",render:s=>s.charAt(0).toUpperCase()+s.slice(1)},{title:"Tipe",dataIndex:"tipe",key:"tipe",render:s=>e.jsx(j,{color:_(s),children:s.charAt(0).toUpperCase()+s.slice(1)})},{title:"Jam Masuk",key:"masuk",render:s=>`${d(s.jam_masuk_mulai)} - ${d(s.jam_masuk_selesai)}`},{title:"Jam Pulang",key:"pulang",render:s=>`${d(s.jam_pulang_mulai)} - ${d(s.jam_pulang_selesai)}`},{title:"Dibuat",dataIndex:"createdAt",key:"createdAt",render:s=>new Date(s).toLocaleDateString("id-ID")}],dataSource:t.details,rowKey:"id",pagination:!1,scroll:{x:600}})}),t.assignments&&t.assignments.length>0&&e.jsx(n,{size:"small",title:e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(E,{style:{marginRight:8}}),"Unit Kerja Terkait (",t.assignments.length," unit)"]}),children:e.jsx(S,{size:"small",columns:[{title:"No",key:"no",width:50,render:(s,l,x)=>x+1},{title:"Nama Unit Kerja",dataIndex:"dinset_nama",key:"dinset_nama"},{title:"SKPD",dataIndex:"id_skpd",key:"id_skpd",width:80},{title:"Satker",dataIndex:"id_satker",key:"id_satker",width:80},{title:"Bidang",dataIndex:"id_bidang",key:"id_bidang",width:80},{title:"Status",dataIndex:"status",key:"status",width:100,render:s=>e.jsx(j,{color:y(s),children:p(s)})},{title:"Ditugaskan",dataIndex:"createdAt",key:"createdAt",width:120,render:s=>new Date(s).toLocaleDateString("id-ID")}],dataSource:t.assignments,rowKey:"dinset_id",pagination:{pageSize:10,showSizeChanger:!1,showQuickJumper:!0,showTotal:(s,l)=>`${l[0]}-${l[1]} dari ${s} unit kerja`},scroll:{x:800}})})]})})})}):e.jsx("div",{style:{padding:"24px",maxWidth:"100%",overflow:"hidden"},children:e.jsx(n,{children:e.jsx(g,{message:"Data Tidak Ditemukan",description:"Jam dinas yang dicari tidak ditemukan.",type:"warning",showIcon:!0})})}):e.jsx("div",{style:{padding:"24px",maxWidth:"100%",overflow:"hidden"},children:e.jsx(n,{children:e.jsx(g,{message:"Akses Ditolak",description:"Hanya super admin yang dapat mengakses halaman jam dinas.",type:"error",showIcon:!0})})})};export{N as default};
